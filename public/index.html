<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Tesla Console</title>
    <script>
        window.onerror = function (errorMsg, url, lineNumber) {
            alert((lineNumber ? lineNumber : '') + '\r\n' + errorMsg + '\r\n' + (url ? url + ' ' : ''));
        }
        // Show page load alerts on Tesla browser
    </script>

    <!-- Polyfile ES5 on Tesla - not sure if both are needed -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.5/es5-shim.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">

    <style>
        .tight {
            margin-bottom: 0px;
            margin-top: 0px;
            margin-left: 0px;
            margin-right: 0px;
            padding: 0px;
        }
    </style>

    <script type="text/javascript">
        var appInsights=window.appInsights||function(config){
        function r(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o="script",s=u.createElement(o),i,f;for(s.src=config.url||"//az416426.vo.msecnd.net/scripts/a/ai.0.js",u.getElementsByTagName(o)[0].parentNode.appendChild(s),t.cookie=u.cookie,t.queue=[],i=["Event","Exception","Metric","PageView","Trace"];i.length;)r("track"+i.pop());return r("setAuthenticatedUserContext"),r("clearAuthenticatedUserContext"),config.disableExceptionTracking||(i="onerror",r("_"+i),f=e[i],e[i]=function(config,r,u,e,o){var s=f&&f(config,r,u,e,o);return s!==!0&&t["_"+i](config,r,u,e,o),s}),t
        }({
            instrumentationKey:"36f957d4-2f77-4424-9e61-070811d3a89b"
        });

        window.appInsights=appInsights;
        appInsights.trackPageView();
    </script>
</head>

<body>
    <div id="top-nav" class="navbar navbar-inverse navbar-static-top tight">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#NavBarActions" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Dashboard</a>
            </div>
            <div class="navbar-collapse collapse" id="NavBarActions">
                <ul class="nav navbar-nav">
                    <li class="active"><a id="ShowMail" href="#">Mail</a></li>
                    <li><a id="ShowCalendar" href="#">Calendar</a></li>
                    <li style="display: none"><a id="ShowContacts" href="#">Contacts</a></li>
                    <li style="display: none"><a id="ShowNotes" href="#">Notes</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="refreshButton">
                        <a id="RefreshCurrentView" href="#" style="display: none;"><i class="glyphicon glyphicon-refresh"></i></a>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" role="button" data-toggle="dropdown" href="#">
                            <i class="glyphicon glyphicon-user">&nbsp;<span id="UsernameText"></span></i>&nbsp;<span class="caret"></span>
                        </a>
                        <ul id="account-menu" class="dropdown-menu" role="menu">
                            <li><a id="DoLogout" href="#">Logout</a></li>
                            <li><a id="ShowAbout" href="#About" data-toggle="modal">About...</a></li>
                            <li><a id="ShowSettings" href="#Settings" data-toggle="modal">Settings...</a></li>
                        </ul>
                    </li>
                    <li><a id="DoLogin" href="#">Login</a></li>
                </ul>
            </div>
        </div>
        <!-- /container -->
    </div>


    <!-- Modal HTML -->


    <div class="container-fluid tight">

        <div id="App" class="row tight">
        </div>

        <!-- Div for mini console on Tesla browser -->
        <div class="row tight">
            <div id="DebugConsole" class="row tight" style="display: none">
                <div id="DebugLog" style="margin: 10px; padding: 10px; background: SkyBlue"></div>
                <div style="margin: 0px; padding: 10px">
                    <input id="DebugCommand" type="text" placeholder="> " style="width: 100%" />
                </div>
            </div>
        </div>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script>
        var forceInPlaceLogin = false;
        var forceDebugConsole = false;

        console.log('Starting app');

        // Keeping jquery out of main react app.  Ultimately may move away from a bootstrap to a React navigation bar in which case this will go away.
        $(function () {
            $('.navbar-nav li').click(function () {
                $(this).addClass('active').siblings().removeClass('active');

                if ($(this).hasClass('refreshButton')) {
                    $(this).removeClass('active');
                }
            });
        });
    </script>

    <script src="./bundle.js"></script>
</body>

</html>
